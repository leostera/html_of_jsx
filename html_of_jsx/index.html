<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>index (html_of_jsx.index)</title><meta charset="utf-8"/><link rel="stylesheet" href="../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ html_of_jsx</nav><header class="odoc-preamble"><h1 id="html_of_jsx"><a href="#html_of_jsx" class="anchor"></a>html_of_jsx</h1><p><b>html_of_jsx</b> is an implementation of JSX designed to render HTML on the server, without React or anything else. It's a simple library that allows you to write HTML in a declarative way with the component model.</p><p>This library is extracted from <a href="https://github.com/ml-in-barcelona/server-reason-react">server-reason-react</a> and simplified to just work with HTML5.</p></header><nav class="odoc-toc"><ul><li><a href="#installation">Installation</a></li><li><a href="#api">API</a></li><li><a href="#features">Features</a><ul><li><a href="#it's-just-html-(no-classname,-no-htmlfor,-etc.)">It's just HTML (no <code>className</code>, no <code>htmlFor</code>, etc.)</a></li><li><a href="#components-are-functions-with-labeled-arguments">Components are functions with labeled arguments</a></li><li><a href="#uppercase-components-default-to-make">Uppercase components default to <code>make</code></a></li><li><a href="#brings-the-power-of-interleaving-expressions-(stolen-from-jsx)">Brings the power of interleaving expressions (stolen from JSX)</a></li><li><a href="#type-safe">Type-safe</a></li><li><a href="#minimalistic">Minimalistic</a></li><li><a href="#supports-children-as-list-of-elements">Supports children as list of elements</a></li><li><a href="#supports-fragments">Supports fragments</a></li><li><a href="#works-with-reason-">Works with Reason </a></li><li><a href="#works-with-mlx-(https://github.com/andreypopp/mlx)-">Works with mlx (https://github.com/andreypopp/mlx) </a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="installation"><a href="#installation" class="anchor"></a>Installation</h2><pre class="language-ocaml"><code>opan pin add html_of_jsx &quot;https://github.com/davesnx/html_of_jsx&quot;</code></pre><pre class="language-ocaml"><code>(libraries html_of_jsx.lib)
(preprocess (pps html_of_jsx.ppx))</code></pre><h2 id="api"><a href="#api" class="anchor"></a>API</h2><p><a href="Jsx/index.html"><code>Jsx</code></a> module that exposes some helpers to construct elements and <a href="Html_of_jsx/index.html"><code>Html_of_jsx</code></a> to render them, the rest are functions with labelled arguments.</p><h2 id="features"><a href="#features" class="anchor"></a>Features</h2><h3 id="it's-just-html-(no-classname,-no-htmlfor,-etc.)"><a href="#it's-just-html-(no-classname,-no-htmlfor,-etc.)" class="anchor"></a>It's just HTML (no <code>className</code>, no <code>htmlFor</code>, etc.)</h3><pre class="language-ocaml"><code>let element = &lt;a href=&quot;https://x.com/davesnx&quot;&gt;
  &lt;span&gt; {&quot;Click me!&quot;} &lt;/span&gt;
&lt;/a&gt;</code></pre><p>&gt; <b>Note</b> <a href="https://v2.ocaml.org/manual/lex.html#sss:keywords">reserved keywords</a> aren't possible as props. For example <code>class</code> =&gt; <code>class_</code> or <code>type</code> =&gt; <code>type_</code>.</p><h3 id="components-are-functions-with-labeled-arguments"><a href="#components-are-functions-with-labeled-arguments" class="anchor"></a>Components are functions with labeled arguments</h3><pre class="language-ocaml"><code>let component = (~name, ()) =&gt; {
  &lt;div&gt; &lt;h1&gt; {Jsx.text(&quot;Hello, &quot; ++ name ++ &quot;!&quot;)} &lt;/h1&gt; &lt;/div&gt;;
};

Html_of_jsx.render(&lt;component name=&quot;lola&quot; /&gt;);</code></pre><p>&gt; <b>Note</b> that the <code>component</code> function needs to have a last argument of type <code>unit</code> in order to work properly with labelled arguments. Explained on the <a href="https://v2.ocaml.org/manual/lablexamples.html#s:optional-arguments">OCaml manual</a>: Functions with only labelled arguments, need a last non labelled argument to be able to be called as a non curried function.</p><h3 id="uppercase-components-default-to-make"><a href="#uppercase-components-default-to-make" class="anchor"></a>Uppercase components default to <code>make</code></h3><pre class="language-ocaml"><code>module Button = {
  let make = () =&gt; {
    &lt;button onclick=&quot;onClickHandler&quot;&gt; {Jsx.text(&quot;Click me&quot;)} &lt;/button&gt;;
  };
};

Html_of_jsx.render(&lt;Button /&gt;);
// is equivalent to
Html_of_jsx.render(&lt;Button.make /&gt;);</code></pre><h3 id="brings-the-power-of-interleaving-expressions-(stolen-from-jsx)"><a href="#brings-the-power-of-interleaving-expressions-(stolen-from-jsx)" class="anchor"></a>Brings the power of interleaving expressions (stolen from JSX)</h3><pre class="language-ocaml"><code>let component = (~name, ~children, ()) =&gt; {
  &lt;div&gt;
    &lt;h1&gt; {(&quot;Hello, &quot; ++ name ++ &quot;!&quot;) |&gt; Jsx.text} &lt;/h1&gt;
    &lt;h2&gt; children &lt;/h2&gt;
  &lt;/div&gt;;
};

Html_of_jsx.render(
  &lt;component name=&quot;World&quot;&gt; {Jsx.text(&quot;This is a children!&quot;)} &lt;/component&gt;,
);</code></pre><p>List of childrens are available with <code>Jsx.list</code></p><pre class="language-ocaml"><code>Html_of_jsx.render(
  &lt;ul&gt;
    {[&quot;This&quot;, &quot;is&quot;, &quot;an&quot;, &quot;unordered&quot;, &quot;list&quot;]
     |&gt; List.map(item =&gt; &lt;li&gt; {Jsx.text(item)} &lt;/li&gt;)
     |&gt; Jsx.list}
  &lt;/ul&gt;,
);</code></pre><h3 id="type-safe"><a href="#type-safe" class="anchor"></a>Type-safe</h3><p>HTML attributes are type-checked and only valid attributes are allowed</p><pre class="language-ocaml"><code>    &lt;h1 noop=1&gt; {Jsx.text(&quot;Hello, world!&quot;)} &lt;/h1&gt;
    ^^^
// Error: prop 'noop' isn't valid on a 'h1' element.

    &lt;h1 class_=1&gt; {Jsx.text(&quot;Hello, world!&quot;)} &lt;/h1&gt;
               ^
// Error: This expression has type int but an expression was expected of type string</code></pre><p>And also friendly, it recommends you the correct attribute if you misspell it</p><pre class="language-ocaml"><code>          &lt;div ?onClick /&gt;
          ^^^^
// Error: prop 'onClick' isn't valid on a 'div' element.
//        Hint: Maybe you mean 'onclick'?</code></pre><h3 id="minimalistic"><a href="#minimalistic" class="anchor"></a>Minimalistic</h3><p>Only 2 function to learn, the rest are your functions (aka components):</p><ul><li><code>Html_of_jsx.render</code> to render your HTML</li><li><code>Jsx.text</code> to inline text</li></ul><p>The rest are helpers on <code>Jsx.*</code>, like (<code>Jsx.int</code>). Check the <code>!Jsx</code> if you are curious</p><pre class="language-ocaml"><code>Html_of_jsx.render(&lt;h1&gt;{Jsx.text(&quot;Hello, world!&quot;)}&lt;/h1&gt;);</code></pre><h3 id="supports-children-as-list-of-elements"><a href="#supports-children-as-list-of-elements" class="anchor"></a>Supports children as list of elements</h3><pre class="language-ocaml"><code>let component = (~name, ~children, ()) =&gt; {
  &lt;div&gt;
    &lt;h1&gt; {Jsx.text(&quot;Hello, &quot; ++ name ++ &quot;!&quot;)} &lt;/h1&gt;
    &lt;h2&gt; {children} &lt;/h2&gt;
  &lt;/div&gt;
};

Html_of_jsx.render(&lt;component&gt; {&quot;This is a children!&quot;} &lt;/component&gt;)</code></pre><h3 id="supports-fragments"><a href="#supports-fragments" class="anchor"></a>Supports fragments</h3><pre class="language-ocaml"><code>let component: Jsx.element = &lt;&gt; &lt;div class_=&quot;md:w-1/3&quot; /&gt; &lt;div class_=&quot;md:w-2/3&quot; /&gt; &lt;/&gt;;

Html_of_jsx.render(&lt;component&gt; {&quot;This is a children!&quot;} &lt;/component&gt;)</code></pre><h3 id="works-with-reason-"><a href="#works-with-reason-" class="anchor"></a>Works with <a href="https://reasonml.github.io">Reason</a> </h3><pre class="language-ocaml"><code>let component = (~name, ()) =&gt; {
  &lt;div&gt; &lt;h1&gt; {Jsx.text(&quot;Hello, &quot; ++ name ++ &quot;!&quot;)} &lt;/h1&gt; &lt;/div&gt;;
};

Html_of_jsx.render(&lt;component name=&quot;World&quot; /&gt;);</code></pre><h3 id="works-with-mlx-(https://github.com/andreypopp/mlx)-"><a href="#works-with-mlx-(https://github.com/andreypopp/mlx)-" class="anchor"></a>Works with <a href="https://github.com/andreypopp/mlx">mlx</a> (https://github.com/andreypopp/mlx) </h3><pre class="language-ocaml"><code>let component ~name =
  &lt;div&gt;
    &lt;h1&gt; (&quot;Hello, &quot; ^ name ^ &quot;!&quot;) &lt;/h1&gt;
  &lt;/div&gt;

Html_of_jsx.render &lt;component name=&quot;World&quot; /&gt;</code></pre></div></body></html>
